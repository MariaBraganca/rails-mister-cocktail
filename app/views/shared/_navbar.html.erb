<%= render 'shared/add-cocktail-modal'%>
<%= render 'shared/edit-cocktail-modal'%>

<div class="navbar navbar-expand-lg navbar-light fixed-top navbar-cocktail">
  <%= link_to root_path, class: "navbar-brand" do %>
    <i class="fas fa-cocktail"></i> Mister Cocktail
  <% end %>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav mr-auto">
      <!-- Category Dropdown -->
      <li class="nav-item dropdown">
        <%= link_to "#", class: "nav-link dropdown-toggle", id: "navbarDropdown", role: "button", data: { toggle: "dropdown" }, 'aria-haspopup': true, 'aria-expanded': false do %>
          Categories
        <% end %>
        <div class="dropdown-menu cocktail-drop" aria-labelledby="navbarDropdown">
          <%= simple_form_for :search_category, url: root_path, method: "GET" do |f| %>
            <%= f.input :category, collection: $categories, label: false, as: :check_boxes, label_html: { class: 'hidden' } %>
            <%= f.submit "Filter", class: "btn btn-filter w-100" %>
          <% end %>
        </div>
      </li>
      <!-- Alcoholic Dropdown -->
      <li class="nav-item dropdown">
        <%= link_to "#", class: "nav-link dropdown-toggle", id: "navbarDropdown", role: "button", data: { toggle: "dropdown" }, 'aria-haspopup': true, 'aria-expanded': false do %>
          Alcoholic
        <% end %>
        <div class="dropdown-menu cocktail-drop" aria-labelledby="navbarDropdown">
          <%= simple_form_for :search_alcoholic, url: root_path, method: "GET" do |f| %>
            <%= f.input :alcoholic, collection: $alcoholics, label: false, as: :check_boxes %>
            <%= f.submit "Filter", class: "btn btn-filter w-100" %>
          <% end %>
        </div>
      </li>
      <!-- Glass Dropdown -->
      <li class="nav-item dropdown">
        <%= link_to "#", class: "nav-link dropdown-toggle", id: "navbarDropdown", role: "button", data: { toggle: "dropdown" }, 'aria-haspopup': true, 'aria-expanded': false do %>
          Glass
        <% end %>
        <div class="dropdown-menu cocktail-drop" aria-labelledby="navbarDropdown">
          <%= simple_form_for :search_glass, url: root_path, method: "GET" do |f| %>
            <%= f.input :glass, collection: $glasses, label: false, as: :check_boxes %>
            <%= f.submit "Filter", class: "btn btn-filter w-100" %>
          <% end %>
        </div>
      </li>
      </ul>
      <!-- Search -->
      <ul class="navbar-nav ml-auto">
      <li class="nav-item">
        <%= form_tag root_path, method: :get do %>
					<div class="d-flex mr-3">		
            <%= text_field_tag :query,
              params[:query],
              class: "form-control"
            %>
            <%= submit_tag "Search", class: "btn btn-search" %>
					</div>
				<% end %>
      </li>
      <!-- Add a cocktail -->
      <li class="nav-item">
        <%#= link_to "Add a cocktail", new_cocktail_path, :class => "btn btn-add" %>
        <!-- Button trigger modal -->
        <% if current_page?(root_path) %>
          <button type="button" class="btn btn-add" data-toggle="modal" data-target="#cocktailModal">
            Add cocktail
          </button>
        <% else %>
          <button type="button" class="btn btn-edit" data-toggle="modal" data-target="#cocktailModalEdit">
            Edit cocktail
          </button>
        <% end %>
      </li>
    </ul>
  </div>
</div>
